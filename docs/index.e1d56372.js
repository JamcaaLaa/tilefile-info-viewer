var p=Object.defineProperty;var L=(n,e,t)=>e in n?p(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var a=(n,e,t)=>(L(n,typeof e!="symbol"?e+"":e,t),t);const B=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerpolicy&&(s.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?s.credentials="include":r.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}};B();class v{constructor(e,t={}){a(this,"_buffer");a(this,"_view");a(this,"_currentOffset",0);a(this,"_littleEndian");this._littleEndian=t.littleEndian===void 0?!0:t.littleEndian,this._buffer=e,this._view=new DataView(e)}get currentOffset(){return this._currentOffset}get canGet(){return this._currentOffset<=this._buffer.byteLength}validate(){if(!this.canGet)throw new Error("\u7D22\u5F15\u8D8A\u754C, \u8BF7\u91CD\u65B0\u8BFB\u53D6\u6570\u636E")}reset(e=0){this._currentOffset=e}reInit(e){this._buffer=e,this._view=new DataView(e),this._currentOffset=0}readByte(){const e=this._view.getUint8(this._currentOffset);return this._currentOffset++,e}readChar(){const e=this.readByte();return String.fromCharCode(e)}readChars(e){if(this.currentOffset+e>this._buffer.byteLength)return"";const t=[];for(let i=0;i<e;i++)t.push(this.readChar());return t.join("")}readUint8(){return this.readByte()}readUint16(){const e=this._view.getUint16(this._currentOffset,this._littleEndian);return this._currentOffset+=2,e}readUint32(){const e=this._view.getUint32(this._currentOffset,this._littleEndian);return this._currentOffset+=4,e}readFloat32(){const e=this._view.getFloat32(this._currentOffset,this._littleEndian);return this._currentOffset+=4,e}readFloat64(){const e=this._view.getFloat64(this._currentOffset,this._littleEndian);return this._currentOffset+=8,e}readInt8(){const e=this._view.getInt8(this._currentOffset);return this._currentOffset++,e}readInt16(){const e=this._view.getInt16(this._currentOffset,this._littleEndian);return this._currentOffset+=2,e}readInt32(){const e=this._view.getInt32(this._currentOffset,this._littleEndian);return this._currentOffset+=4,e}}const w=Object.freeze({magic:"4c",version:"u32",byteLength:"u32",featureTableJSONByteLength:"u32",featureTableBinaryByteLength:"u32",batchTableJSONByteLength:"u32",batchTableBinaryByteLength:"u32"});Object.freeze({magic:"4c",version:"u32",byteLength:"u32",featureTableJSONByteLength:"u32",featureTableBinaryByteLength:"u32",batchTableJSONByteLength:"u32",batchTableBinaryByteLength:"u32",gltfFormat:"u32"});Object.freeze({magic:"4c",version:"u32",byteLength:"u32",featureTableJSONByteLength:"u32",featureTableBinaryByteLength:"u32",batchTableJSONByteLength:"u32",batchTableBinaryByteLength:"u32"});Object.freeze({magic:"4c",version:"u32",byteLength:"u32"});Object.freeze({magic:"4c",version:"u32",byteLength:"u32",tilesLength:"u32"});const h=/(\d+)c/,d=/(i|u)(8|16|32)/,_=/(f)(32|64)/;class E{constructor(e,t){a(this,"_reader");a(this,"_layout");this._layout=t,this._reader=e}get layout(){return this._layout}set layout(e){this._layout=e}readHead(){const e=Object.entries(this._layout),t=[];for(const[i,r]of e)t.push([i,this.selectReadFunctionAndRead(r)]);return Object.fromEntries(t)}selectReadFunctionAndRead(e){if(h.test(e)){const t=e.match(h);if(t){const i=+t[1];return this._reader.readChars(i)}else return""}else if(d.test(e)){const t=e.match(d);if(t){const i=t[1],r=+t[2];return i==="u"?r===8?this._reader.readUint8():r===16?this._reader.readUint16():r===32?this._reader.readUint32():0:r===8?this._reader.readInt8():r===16?this._reader.readInt16():r===32?this._reader.readInt32():0}else return 0}else if(_.test(e)){const t=e.match(_);if(t){const i=+t[2];return i===32?this._reader.readFloat32():i===64?this._reader.readFloat64():0}else return""}else return""}}const l=n=>c("div",n),C=n=>c("pre",n),F=(n,e)=>{const t=c("label",n);return e&&t.setAttribute("for",e),t},T=(n,e)=>{const t=c("input",n);return t.setAttribute("type",e!=null?e:"text"),t},c=(n,e)=>{const t=document.createElement(n);return e&&t.classList.add(...e),t};const b=document.querySelector("#app"),f=l(["flexbox","root-container","flex-col","silver-bg"]),g=l(["codeblock-container"]),m=C(["code","padding-1vw"]);g.appendChild(m);const y=l(),O=F([],"tile-file"),u=T([],"file");u.setAttribute("accept",".b3dm,.i3dm,.pnts,.cmpt,.glb");u.id="tile-file";O.appendChild(u);y.appendChild(O);f.appendChild(y);f.appendChild(g);b&&b.appendChild(f);const I=async n=>{const e=await n.arrayBuffer(),t=new v(e),r=new E(t,w).readHead(),s=JSON.stringify(r,null,2);m.innerHTML=s};u.onchange=()=>{var e;const n=(e=u.files)==null?void 0:e.item(0);!n||I(n)};
//# sourceMappingURL=index.e1d56372.js.map
